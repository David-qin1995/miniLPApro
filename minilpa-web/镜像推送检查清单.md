# ğŸ” é•œåƒæ¨é€æ£€æŸ¥æ¸…å•

## ğŸ“‹ å¿«é€Ÿè¯Šæ–­

### é”™è¯¯ä¿¡æ¯åˆ†æ

```
Error: pull access denied for davidqin1995/minilpa-web
```

**å¯èƒ½çš„åŸå› **ï¼š
1. âŒ **é•œåƒæœªæ¨é€åˆ°ä»“åº“**ï¼ˆæœ€å¸¸è§ï¼‰
2. âŒ **é•œåƒä»“åº“ä¸å­˜åœ¨**
3. âŒ **éœ€è¦ç™»å½•**ï¼ˆç§æœ‰ä»“åº“ï¼‰
4. âŒ **é•œåƒåç§°é”™è¯¯**

---

## âœ… è§£å†³æ­¥éª¤

### æ­¥éª¤ 1: æ£€æŸ¥é•œåƒæ˜¯å¦å·²æ¨é€

#### æ–¹å¼ä¸€ï¼šæµè§ˆå™¨æ£€æŸ¥ï¼ˆæœ€å¿«ï¼‰

è®¿é—®ï¼š`https://hub.docker.com/r/davidqin1995/minilpa-web`

**å¦‚æœçœ‹åˆ°**ï¼š
- âœ… é¡µé¢æ˜¾ç¤ºé•œåƒä¿¡æ¯ â†’ é•œåƒå·²æ¨é€
- âŒ 404 æˆ– "Repository not found" â†’ é•œåƒæœªæ¨é€

#### æ–¹å¼äºŒï¼šä½¿ç”¨æ£€æŸ¥è„šæœ¬

```bash
cd /Users/jason/devTools/code/miniplapro/minilpa-web
bash check-image.sh davidqin1995/minilpa-web latest
```

---

### æ­¥éª¤ 2: æœ¬åœ°æ„å»ºå¹¶æ¨é€

å¦‚æœé•œåƒæœªæ¨é€ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

#### 2.1 ç¡®ä¿ Docker Desktop è¿è¡Œ

```bash
# æ£€æŸ¥ Docker æ˜¯å¦è¿è¡Œ
docker info

# å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨ Docker Desktop
```

#### 2.2 è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd /Users/jason/devTools/code/miniplapro/minilpa-web
```

#### 2.3 ç™»å½• Docker Hub

```bash
docker login
# Username: davidqin1995
# Password: [æ‚¨çš„å¯†ç æˆ– Personal Access Token]
```

#### 2.4 æ„å»ºå¹¶æ¨é€ï¼ˆä¸€é”®ï¼‰

```bash
bash build-and-push.sh
```

**æˆ–æ‰‹åŠ¨æ“ä½œ**ï¼š

```bash
# 1. æ„å»ºé•œåƒ
docker build -t davidqin1995/minilpa-web:latest .

# 2. æµ‹è¯•é•œåƒï¼ˆå¯é€‰ï¼‰
docker run -d -p 3001:3000 --name minilpa-test davidqin1995/minilpa-web:latest
curl http://localhost:3001/api/health
docker stop minilpa-test && docker rm minilpa-test

# 3. æ¨é€é•œåƒ
docker push davidqin1995/minilpa-web:latest
```

#### 2.5 éªŒè¯æ¨é€

```bash
# ä½¿ç”¨æ£€æŸ¥è„šæœ¬
bash check-image.sh

# æˆ–æµè§ˆå™¨è®¿é—®
# https://hub.docker.com/r/davidqin1995/minilpa-web/tags
```

---

### æ­¥éª¤ 3: æœåŠ¡å™¨æ‹‰å–

æ¨é€æˆåŠŸåï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
# é‡æ–°æ‹‰å–
docker pull davidqin1995/minilpa-web:latest

# æˆ–ä½¿ç”¨éƒ¨ç½²è„šæœ¬ï¼ˆè‡ªåŠ¨æ‹‰å–ï¼‰
cd /www/wwwroot/minilpa-web
bash docker-pull-deploy.sh
```

---

## ğŸ” å¸¸è§é—®é¢˜

### é—®é¢˜ 1: Docker Hub ä¸Šæ‰¾ä¸åˆ°é•œåƒ

**åŸå› **ï¼šé•œåƒæœªæ¨é€

**è§£å†³**ï¼š
1. åœ¨æœ¬åœ°æ„å»ºå¹¶æ¨é€
2. ç­‰å¾…å‡ ç§’è®©é•œåƒåŒæ­¥
3. é‡æ–°éªŒè¯

---

### é—®é¢˜ 2: æ¨é€æ—¶æƒé™è¢«æ‹’ç»

**åŸå› **ï¼šæœªç™»å½•æˆ–ç™»å½•å¤±è´¥

**è§£å†³**ï¼š
```bash
# é‡æ–°ç™»å½•
docker logout
docker login

# æˆ–ä½¿ç”¨ Personal Access Token
# ç”Ÿæˆ Token: https://hub.docker.com/settings/security
```

---

### é—®é¢˜ 3: æ„å»ºå¤±è´¥

**åŸå› **ï¼šä»£ç æˆ– Dockerfile é—®é¢˜

**è§£å†³**ï¼š
```bash
# æŸ¥çœ‹æ„å»ºæ—¥å¿—
docker build -t test-image . 2>&1 | tee build.log

# æ£€æŸ¥ Dockerfile
cat Dockerfile
```

---

## ğŸ“ å®Œæ•´å·¥ä½œæµç¨‹

### æœ¬åœ°æ„å»ºæ¨é€

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/jason/devTools/code/miniplapro/minilpa-web

# 2. ç¡®ä¿ä»£ç æ˜¯æœ€æ–°çš„
git pull origin main

# 3. ç™»å½• Docker Hub
docker login

# 4. æ„å»ºå¹¶æ¨é€ï¼ˆä¸€é”®ï¼‰
bash build-and-push.sh v1.0.0

# 5. éªŒè¯æ¨é€
bash check-image.sh davidqin1995/minilpa-web v1.0.0
```

### æœåŠ¡å™¨éƒ¨ç½²

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /www/wwwroot/minilpa-web

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp env.esim.haoyiseo.com .env

# 3. æ‹‰å–å¹¶éƒ¨ç½²ï¼ˆä¸€é”®ï¼‰
bash docker-pull-deploy.sh
```

---

## âœ… æ£€æŸ¥æ¸…å•

æ¨é€é•œåƒå‰ç¡®è®¤ï¼š

- [ ] Docker Desktop å·²å¯åŠ¨
- [ ] å·²ç™»å½• Docker Hub (`docker login`)
- [ ] é¡¹ç›®ä»£ç æ˜¯æœ€æ–°çš„
- [ ] æœ¬åœ°é•œåƒæ„å»ºæˆåŠŸ
- [ ] é•œåƒæµ‹è¯•é€šè¿‡ï¼ˆå¯é€‰ï¼‰
- [ ] é•œåƒæ¨é€æˆåŠŸï¼ˆæœ‰ digestï¼‰
- [ ] éªŒè¯é•œåƒå­˜åœ¨äº Hubï¼ˆæ£€æŸ¥è„šæœ¬æˆ–æµè§ˆå™¨ï¼‰
- [ ] æœåŠ¡å™¨å¯ä»¥æ‹‰å–é•œåƒ

---

## ğŸš€ å¿«é€Ÿä¿®å¤å‘½ä»¤

å¦‚æœé•œåƒæœªæ¨é€ï¼Œåœ¨æœ¬åœ°æ‰§è¡Œï¼š

```bash
cd /Users/jason/devTools/code/miniplapro/minilpa-web && \
docker login && \
bash build-and-push.sh && \
bash check-image.sh davidqin1995/minilpa-web latest
```

æ¨é€æˆåŠŸåï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
cd /www/wwwroot/minilpa-web && \
bash docker-pull-deploy.sh
```

---

**æ¨èï¼šåœ¨æœ¬åœ°å…ˆå®Œæˆæ„å»ºå’Œæ¨é€ï¼Œç„¶åæœåŠ¡å™¨æ‹‰å–ï¼** ğŸš€

