â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘          ğŸš€ MiniLPA Web - å®å¡”éƒ¨ç½²å¿«é€ŸæŒ‡å—                   â•‘
â•‘          éƒ¨ç½²è·¯å¾„: /www/wwwroot/minilpa                      â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## ğŸ“‹ å‰ææ¡ä»¶

âœ… CentOS 7 æœåŠ¡å™¨
âœ… å·²å®‰è£…å®å¡”é¢æ¿
âœ… å®å¡”é¢æ¿ä¸­å·²å®‰è£…:
   - Nginx (æ¨èæœ€æ–°ç‰ˆ)
   - PM2 ç®¡ç†å™¨
   - Node.js (v16 æˆ– v18)

---

## ğŸš€ æ–¹å¼ä¸€ï¼šä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

### åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
# 1. è¿›å…¥å®å¡”ç›®å½•
cd /www/wwwroot

# 2. ä¸Šä¼ é¡¹ç›®ï¼ˆæ–¹å¼ä»»é€‰å…¶ä¸€ï¼‰

# æ–¹å¼ A: ä½¿ç”¨ Git
git clone <your-repository-url> minilpa

# æ–¹å¼ B: æ‰‹åŠ¨ä¸Šä¼ å¹¶è§£å‹
# ï¼ˆåœ¨å®å¡”é¢æ¿ä¸Šä¼  minilpa-web.tar.gz åˆ° /www/wwwroot/minilpaï¼‰

# 3. è¿›å…¥é¡¹ç›®ç›®å½•
cd minilpa

# 4. è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
bash scripts/baota-deploy.sh
```

### éƒ¨ç½²å®Œæˆï¼

è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆï¼š
âœ… å®‰è£…ä¾èµ–
âœ… é…ç½®ç¯å¢ƒå˜é‡
âœ… æ„å»ºå‰ç«¯
âœ… è®¾ç½®æƒé™
âœ… é…ç½® PM2
âœ… é…ç½® Nginx
âœ… å¯åŠ¨æœåŠ¡

---

## ğŸ› ï¸ æ–¹å¼äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

è¯¦è§ï¼šå®å¡”éƒ¨ç½²æŒ‡å—.md

---

## âš™ï¸ é‡è¦é…ç½®

### 1. ä¿®æ”¹åŸŸå

```bash
# ç¼–è¾‘ç¯å¢ƒå˜é‡
vim /www/wwwroot/minilpa/.env

# ä¿®æ”¹è¿™ä¸€è¡Œï¼š
CORS_ORIGIN=https://your-actual-domain.com
```

### 2. ä¿®æ”¹ Nginx é…ç½®

```bash
# ç¼–è¾‘ Nginx é…ç½®
vim /www/server/panel/vhost/nginx/minilpa.conf

# ä¿®æ”¹ server_nameï¼š
server_name your-actual-domain.com;

# é‡è½½ Nginx
nginx -s reload
```

### 3. é…ç½® SSLï¼ˆå¯é€‰ä½†æ¨èï¼‰

åœ¨å®å¡”é¢æ¿ä¸­ï¼š
1. è¿›å…¥"ç½‘ç«™" â†’ æ‰¾åˆ°æ‚¨çš„ç«™ç‚¹
2. ç‚¹å‡»"è®¾ç½®" â†’ "SSL"
3. é€‰æ‹© "Let's Encrypt"
4. å¡«å†™é‚®ç®±å¹¶ç”³è¯·è¯ä¹¦
5. å¼€å¯"å¼ºåˆ¶HTTPS"

---

## âœ… éªŒè¯éƒ¨ç½²

### 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
pm2 status
# åº”è¯¥çœ‹åˆ° minilpa è¿›ç¨‹åœ¨è¿è¡Œ
```

### 2. æµ‹è¯•åç«¯ API

```bash
curl http://localhost:3000/api/health
# åº”è¯¥è¿”å›: {"status":"ok",...}
```

### 3. æµè§ˆå™¨è®¿é—®

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://your-domain.com

---

## ğŸ“Š å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹åº”ç”¨çŠ¶æ€
pm2 status

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
pm2 logs minilpa

# é‡å¯åº”ç”¨
pm2 restart minilpa

# åœæ­¢åº”ç”¨
pm2 stop minilpa

# é‡å¯ Nginx
nginx -s reload
```

---

## ğŸ”„ æ›´æ–°åº”ç”¨

```bash
cd /www/wwwroot/minilpa

# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# å®‰è£…ä¾èµ–
npm install
cd client && npm install && cd ..

# é‡æ–°æ„å»º
npm run build

# é‡å¯æœåŠ¡
pm2 restart minilpa
```

---

## ğŸ“‚ ç›®å½•ç»“æ„

```
/www/wwwroot/minilpa/
â”œâ”€â”€ client/
â”‚   â””â”€â”€ dist/          # å‰ç«¯æ„å»ºäº§ç‰©ï¼ˆNginx è®¿é—®ï¼‰
â”œâ”€â”€ server/
â”‚   â””â”€â”€ index.js       # åç«¯å…¥å£ï¼ˆPM2 è¿è¡Œï¼‰
â”œâ”€â”€ data/              # æ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ uploads/           # ä¸Šä¼ æ–‡ä»¶
â”œâ”€â”€ logs/              # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ .env               # ç¯å¢ƒå˜é‡ï¼ˆé‡è¦ï¼‰
â””â”€â”€ ecosystem.config.js # PM2 é…ç½®
```

---

## âŒ å¸¸è§é—®é¢˜

### é—®é¢˜1: PM2 æ— æ³•å¯åŠ¨

```bash
# æŸ¥çœ‹æ—¥å¿—
pm2 logs minilpa --err

# æ£€æŸ¥ç«¯å£
lsof -i:3000

# æ‰‹åŠ¨å¯åŠ¨æµ‹è¯•
node server/index.js
```

### é—®é¢˜2: Nginx 502 é”™è¯¯

åŸå› ï¼šåç«¯æœªè¿è¡Œ

```bash
# æ£€æŸ¥åç«¯
pm2 status
pm2 restart minilpa

# æµ‹è¯•åç«¯
curl http://localhost:3000/api/health
```

### é—®é¢˜3: å‰ç«¯é¡µé¢ç©ºç™½

åŸå› ï¼šå‰ç«¯æœªæ­£ç¡®æ„å»º

```bash
# é‡æ–°æ„å»º
cd /www/wwwroot/minilpa
npm run build

# æ£€æŸ¥æ–‡ä»¶
ls -la client/dist/
```

### é—®é¢˜4: æƒé™é”™è¯¯

```bash
# é‡æ–°è®¾ç½®æƒé™
chown -R www:www /www/wwwroot/minilpa
chmod -R 755 /www/wwwroot/minilpa
```

---

## ğŸ”’ å®‰å…¨å»ºè®®

1. âœ… ä¿®æ”¹ .env ä¸­çš„ SESSION_SECRET
2. âœ… é…ç½® SSL è¯ä¹¦ï¼ˆHTTPSï¼‰
3. âœ… å®šæœŸå¤‡ä»½æ•°æ®ï¼ˆdata/ å’Œ uploads/ï¼‰
4. âœ… é…ç½®é˜²ç«å¢™è§„åˆ™
5. âœ… å®šæœŸæ›´æ–°ç³»ç»Ÿå’Œè½¯ä»¶

---

## ğŸ“ è·å–å¸®åŠ©

ğŸ“– è¯¦ç»†æ–‡æ¡£: å®å¡”éƒ¨ç½²æŒ‡å—.md
ğŸ› é—®é¢˜åé¦ˆ: æäº¤ Issue
ğŸ’¬ äº¤æµè®¨è®º: [ç¤¾åŒº/ç¾¤ç»„]

---

## ğŸ‰ éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œè¯·ç¡®è®¤ï¼š

â–¡ PM2 è¿›ç¨‹æ­£å¸¸è¿è¡Œ
â–¡ åç«¯ API æ­£å¸¸å“åº”
â–¡ å‰ç«¯é¡µé¢å¯ä»¥è®¿é—®
â–¡ å·²ä¿®æ”¹åŸŸåé…ç½®
â–¡ å·²é…ç½® SSL è¯ä¹¦
â–¡ é˜²ç«å¢™å·²å¼€æ”¾ç«¯å£
â–¡ æ•°æ®ç›®å½•æƒé™æ­£ç¡®

---

**ä¸€åˆ‡å°±ç»ªï¼å¼€å§‹ä½¿ç”¨ MiniLPA Webï¼** ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

